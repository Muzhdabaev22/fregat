<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Соединение слов и картинок</title>
    <link rel="stylesheet" href="test.css">
</head>
<body>
    <div class="container">
        <div class="words">
            <div class="word" data-match="1">Слово 1</div>
            <div class="word" data-match="2">Слово 2</div>
            <div class="word" data-match="3">Слово 3</div>
        </div>
        <div class="images">
            <img src="image1.jpg" alt="Картинка 1" data-match="1">
            <img src="image2.jpg" alt="Картинка 2" data-match="2">
            <img src="image3.jpg" alt="Картинка 3" data-match="3">
        </div>
        <canvas id="canvas"></canvas>
        <button id="checkButton">Проверить</button>
    </div>
    <script>const words = document.querySelectorAll('.word');
        const images = document.querySelectorAll('.images img');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const checkButton = document.getElementById('checkButton');
        let selectedWord = null;
        let connections = [];
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        words.forEach(word => {
            word.addEventListener('mousedown', () => {
                selectedWord = word;
            });
        });
        
        images.forEach(image => {
            image.addEventListener('mouseup', () => {
                if (selectedWord) {
                    connections.push({ word: selectedWord, image: image });
                    animateLine(selectedWord, image);
                    selectedWord = null;
                }
            });
        });
        
        checkButton.addEventListener('click', () => {
            let correct = true;
            connections.forEach(connection => {
                if (connection.word.dataset.match !== connection.image.dataset.match) {
                    correct = false;
                }
            });
            alert(correct ? 'Все правильно!' : 'Есть ошибки!');
        });
        
        function animateLine(word, image) {
            const wordRect = word.getBoundingClientRect();
            const imageRect = image.getBoundingClientRect();
            const wordX = wordRect.right;
            const wordY = wordRect.top + wordRect.height / 2;
            const imageX = imageRect.left;
            const imageY = imageRect.top + imageRect.height / 2;
        
            const length = Math.sqrt((imageX - wordX) ** 2 + (imageY - wordY) ** 2);
            ctx.setLineDash([length, length]);
            ctx.lineDashOffset = length;
        
            const animation = setInterval(() => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawAllLines();
                ctx.lineDashOffset -= 5;
                if (ctx.lineDashOffset <= 0) {
                    clearInterval(animation);
                    ctx.setLineDash([]);
                    drawAllLines();
                }
            }, 20);
        }
        
        function drawAllLines() {
            connections.forEach(connection => {
                const wordRect = connection.word.getBoundingClientRect();
                const imageRect = connection.image.getBoundingClientRect();
                const wordX = wordRect.right;
                const wordY = wordRect.top + wordRect.height / 2;
                const imageX = imageRect.left;
                const imageY = imageRect.top + imageRect.height / 2;
        
                ctx.beginPath();
                ctx.moveTo(wordX, wordY);
                ctx.lineTo(imageX, imageY);
                ctx.stroke();
            });
        }
        
        </script>
</body>
</html>

